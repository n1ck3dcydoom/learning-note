# 索引类型

## 单列索引

一个索引只包含单个列，但一个表中可以有多个单列索引。

### 1.1 普通索引

没有任何限制，允许空值（NULL）和重复数据，纯粹是为了查询的时候更高效。

### 1.2 唯一索引

索引列中的值必须是唯一的，允许空值（NULL）

### 1.3 主键索引

一种特殊的唯一索引，不允许空值（NULL）

## 组合索引

在表中多个列上创建索引，使用时遵循 **最左前缀原则** 。

**最左前缀原则**：

当创建(a,b,c)组合索引时，想要索引生效的话,只能使用 a和a,b和a,b,c三种组合

## 全文索引

只允许在MyISAM引擎上才能使用，只能在CHAR,VARCHAR,TEXT类型字段上使用全文索引。就是在一堆文字中，通过其中的某个关键字等，就能找到该字段所属的记录行，是 **可能** 查找到该记录。

## 空间索引

对空间数据类型的字段建立的索引，MySQL中的空间数据类型有四种，GEOMETRY、POINT、LINESTRING、POLYGON。在创建空间索引时，使用SPATIAL关键字

# 索引失效的几种情况

## 1. 前置模糊搜索。

例如：`like %word` 和 `like %word%`

## 2. 重复数据多且数据量少。（即全表扫描比走索引更快的话）

```
例如：如果索引列TYPE有5个键值，如果有1万条数据，那么 WHERE TYPE = 1将访问表中的2000个数据块。

再加上访问索引块，一共要访问大于200个的数据块。
     
如果全表扫描，假设10条数据一个数据块，那么只需访问1000个数据块，既然全表扫描访问的数据块少一些，肯定就不会利用索引了。
```

## 3. 如果条件中有or。

即使其中有条件带索引也不会使用(这也是为什么尽量少用or的原因)。要想使用or，又想让索引生效，只能将or条件中的每个列都加上索引

## 4. 对于复合索引，必须满足最左前缀原则

## 5. 对于字符串来说，必须使用引号括起来，否则不会走索引